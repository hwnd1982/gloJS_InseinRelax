!function(){var t={47:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,c=Object.create(o.prototype),a=new O(r||[]);return c._invoke=function(t,e,n){var r=f;return function(o,c){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw c;return T()}for(n.method=o,n.arg=c;;){var a=n.delegate;if(a){var i=L(a,n);if(i){if(i===m)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(t,e,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(t,n,a),c}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={};function v(){}function y(){}function g(){}var b={};s(b,c,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(R([])));w&&w!==n&&r.call(w,c)&&(b=w);var x=g.prototype=v.prototype=Object.create(b);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,c,a,i){var s=l(t[o],t,c);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,i)}),(function(t){n("throw",t,a,i)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,i)}))}i(s.arg)}var o;this._invoke=function(t,r){function c(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(c,c):c()}}function L(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=l(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function R(t){if(t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,i,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},_(E.prototype),s(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,c){void 0===c&&(c=Promise);var a=new E(u(e,n,r,o),c);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(x),s(x,i,"Generator"),s(x,c,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return i.type="throw",i.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var c=this.tryEntries.length-1;c>=0;--c){var a=this.tryEntries[c],i=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var c=o;break}}c&&("break"===t||"continue"===t)&&c.tryLoc<=e&&e<=c.finallyLoc&&(c=null);var a=c?c.completion:{};return a.type=t,a.arg=e,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var c=e[r]={exports:{}};return t[r](c,c.exports,n),c.exports}!function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(47);var e=function(t,e,n,r,o,c,a,i){document.cookie="".concat(t,"=").concat(e,"; ").concat(n?"expires="+new Date(n,r,o).toGMTString():"","; ").concat(c?"; path"+c:"").concat(a?"; domain"+a:"").concat(i?"; secure"+i:"")},r=function(t){e(t,"",{"max-age":-1})};function o(t,e,n,r,o,c,a){try{var i=t[c](a),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,c){var a=t.apply(e,n);function i(t){o(a,r,c,i,s,"next",t)}function s(t){o(a,r,c,i,s,"throw",t)}i(void 0)}))}}var a="https://eu-central-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/insein-relax-app-jsjas/service/insein-relax-api/incoming_webhook/api?secret=insein-relax",i=function(){var t=c(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a).concat(e?"&"+JSON.stringify(e):""),{method:"GET",mode:"cors"}).catch((function(){throw console.log("Загрузить запись не удалось..."),r("admin"),location="./"}));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=c(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(a,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch((function(){throw console.log("Создать новую запись не удалось ..."),r("admin"),location="./"}));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=c(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"&").concat(JSON.stringify({id:e})),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"}}).catch((function(){throw console.log("Удалить запись не удалось..."),r("admin"),location="./"}));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=c(regeneratorRuntime.mark((function t(e,n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"&").concat(JSON.stringify({id:n})),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch((function(){throw console.log("Изменить запись не удалось..."),r("admin"),location="./"}));case 2:return o=t.sent,t.next=5,o.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();function f(t,e,n,r,o,c,a){try{var i=t[c](a),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function a(t){f(c,r,o,a,i,"next",t)}function i(t){f(c,r,o,a,i,"throw",t)}a(void 0)}))}}var h,p,m,v,y;location.pathname.includes("/admin/table.html")?(location.pathname.includes("/admin/table.html")&&!Object.assign.apply(Object,(y=document.cookie.split("; ").map((function(t){var e={};return e[t.split("=")[0]]=t.split("=")[1],e})),function(e){if(Array.isArray(e))return t(e)}(y)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(y)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).admin&&(location="./"),window.onunload=function(){return r("admin")},document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("typeItem"),e=document.getElementById("tbody"),n=document.getElementById("modal"),r=document.querySelector("form"),o=document.querySelector(".modal__header"),c=function(e){t.textContent="";var n='<option value="Все услуги">Все услуги</option>';e.forEach((function(t){n+='\n          <option value="'.concat(t,'">\n            ').concat(t,"\n          </option>")})),t.innerHTML=n},a=function(t){e.textContent="";var n="";t.forEach((function(t){n+=' <tr class="table__row" id="'.concat(t.id,'">\n                <td class="table__id table__cell">').concat(t.id,'</td>\n                <td class="table-type table__cell">\n                  ').concat(t.type,'\n                </td>\n                <td class="table-name table__cell">\n                  ').concat(t.name,'\n                </td>\n                <td class="table-units table__cell">').concat(t.units,'</td>\n                <td class="table-cost table__cell">').concat(t.cost,' руб</td>\n                <td>\n                  <div class="table__actions table__cell">\n                    <button class="button action-change">\n                      <span class="svg_ui"><svg class="action-icon_change">\n                          <use xlink:href="img/sprite.svg#change"></use></svg></span><span>Изменить</span>\n                    </button>\n                    <button class="button action-remove">\n                      <span class="svg_ui"><svg class="action-icon_remove">\n                          <use xlink:href="img/sprite.svg#remove"></use></svg></span><span>Удалить</span>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ')})),e.innerHTML=n},f=function(){return r.querySelectorAll("input").forEach((function(t){return t.value=""}))},h=0;document.addEventListener("input",(function(t){var e=t.target;e.matches('input[name="name"], input[name="units"], input[name="cost"], input[name="type"]')&&(e.matches('input[name="type"]')&&(e.value=e.value.replace(/[^а-яё\s:]+/gi,"")),e.matches('input[name="name"]')&&(e.value=e.value.replace(/[^а-яё\w\s\d().,/'"]+/gi,"")),e.matches('input[name="units"]')&&(e.value=e.value.replace(/[^а-яё\d.]+/g,"")),e.matches('input[name="cost"]')&&(e.value=e.value.replace(/[^\d]+/g,"")))})),document.addEventListener("change",(function(t){var e=t.target;e.matches('input[name="name"], input[name="units"], input[name="cost"], input[name="type"]')&&(e.value=e.value.replace(/([().,x/:.'"])(?=[().,/:.'"]*\1)/g,"").replace(/([\s])(?=[\s]*\1)/g,"").replace(/^([\s-]*)|([\s-]*)$/g,""))}),!0),d(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.innerHTML='<style>\n        .sk-circle-bounce-wrap {\n          position: absolute;\n          width: 98vw;\n          height: 80vh;\n          display: flex;\n          background-color: #F5F5F5\n        }\n        .sk-circle-bounce {\n          background-color: transparent;\n          width: 100px;\n          height: 100px;\n          position: relative;\n          margin: auto;\n        }\n        .sk-child {\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          left: 0;\n          top: 0;\n        }\n        .sk-circle-bounce .sk-circle-2 {\n          transform: rotate(30deg);\n        }\n        .sk-circle-bounce .sk-circle-3 {\n          transform: rotate(60deg);\n        }\n        .sk-circle-bounce .sk-circle-4 {\n          transform: rotate(90deg);\n        }\n        .sk-circle-bounce .sk-circle-5 {\n          transform: rotate(120deg);\n        }\n        .sk-circle-bounce .sk-circle-6 {\n          transform: rotate(150deg);\n        }\n        .sk-circle-bounce .sk-circle-7 {\n          transform: rotate(180deg);\n        }\n        .sk-circle-bounce .sk-circle-8 {\n          transform: rotate(210deg);\n        }\n        .sk-circle-bounce .sk-circle-9 {\n          transform: rotate(240deg);\n        }\n        .sk-circle-bounce .sk-circle-10 {\n          transform: rotate(270deg);\n        }\n        .sk-circle-bounce .sk-circle-11 {\n          transform: rotate(300deg);\n        }\n        .sk-circle-bounce .sk-circle-12 {\n          transform: rotate(330deg);\n        }\n        .sk-circle-bounce .sk-circle-2:before {\n          animation-delay: -1.1s;\n        }\n        .sk-circle-bounce .sk-circle-3:before {\n          animation-delay: -1s;\n        }\n        .sk-circle-bounce .sk-circle-4:before {\n          animation-delay: -0.9s;\n        }\n        .sk-circle-bounce .sk-circle-5:before {\n          animation-delay: -0.8s;\n        }\n        .sk-circle-bounce .sk-circle-6:before {\n          animation-delay: -0.7s;\n        }\n        .sk-circle-bounce .sk-circle-7:before {\n          animation-delay: -0.6s;\n        }\n        .sk-circle-bounce .sk-circle-8:before {\n          animation-delay: -0.5s;\n        }\n        .sk-circle-bounce .sk-circle-9:before {\n          animation-delay: -0.4s;\n        }\n        .sk-circle-bounce .sk-circle-10:before {\n          animation-delay: -0.3s;\n        }\n        .sk-circle-bounce .sk-circle-11:before {\n          animation-delay: -0.2s;\n        }\n        .sk-circle-bounce .sk-circle-12:before {\n          animation-delay: -0.1s;\n        }\n        .sk-child:before {\n          content: "";\n          display: block;\n          margin: 0 auto;\n          width: 15%;\n          height: 15%;\n          background: linear-gradient(90deg, #f17c0c 0%, #fba600 100%), 50%;\n          border-radius: 100%;\n          animation: sk-circle-bounce-delay 1.2s infinite ease-in-out both;\n        }\n        @keyframes sk-circle-bounce-delay {\n          0%,\n          80%,\n          100% {\n            transform: scale(0);\n          }\n          40% {\n            transform: scale(1);\n          }\n        }\n      </style>\n        <div class="sk-circle-bounce-wrap">\n          <div class="sk-circle-bounce">\n            <div class="sk-child sk-circle-1"></div>\n            <div class="sk-child sk-circle-2"></div>\n            <div class="sk-child sk-circle-3"></div>\n            <div class="sk-child sk-circle-4"></div>\n            <div class="sk-child sk-circle-5"></div>\n            <div class="sk-child sk-circle-6"></div>\n            <div class="sk-child sk-circle-7"></div>\n            <div class="sk-child sk-circle-8"></div>\n            <div class="sk-child sk-circle-9"></div>\n            <div class="sk-child sk-circle-10"></div>\n            <div class="sk-child sk-circle-11"></div>\n            <div class="sk-child sk-circle-12"></div>\n          </div>\n        </div>',n.next=3,i();case 3:if(!(r=n.sent)){n.next=11;break}return c(r),n.t0=a,n.next=9,i({type:t.value});case 9:n.t1=n.sent,(0,n.t0)(n.t1);case 11:case"end":return n.stop()}}),n)})))(),t.addEventListener("change",d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,i({type:t.value});case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),document.addEventListener("click",(function(e){var s=e.target;s.closest(".btn-addItem")&&(n.style.display="flex",o.textContent="Добавение новой услуги",f()),s.closest(".action-change")&&(h=s.closest(".table__row").id,n.style.display="flex",o.textContent="Изменение услуги",d(regeneratorRuntime.mark((function t(){var e,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i({id:h});case 2:for(n in e=t.sent)(o=r.querySelector('input[name="'.concat(n,'"]')))&&(o.value="cost"===n?e[n].replace(/[^\d]+/g,""):e[n]);case 4:case"end":return t.stop()}}),t)})))()),s.closest(".action-remove")&&d(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.value,e.next=3,u(s.closest(".table__row").id);case 3:return e.next=5,i();case 5:return r=e.sent,c(r),t.value=r.includes(n)?n:"Все услуги",e.t0=a,e.next=11,i({type:t.value});case 11:e.t1=e.sent,(0,e.t0)(e.t1);case 13:case"end":return e.stop()}}),e)})))(),(s.closest(".button__close")||s.closest(".button-ui_firm")||s.closest(".cancel-button"))&&(console.log(s),s.closest(".button-ui_firm")||e.preventDefault(),s.closest(".cancel-button")&&f(),n.style.display="")})),r.addEventListener("submit",(function(e){var n=new FormData(r),o={};e.preventDefault(),n.forEach((function(t,e){return o[e]=t})),d(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.value,!h){e.next=6;break}return e.next=4,l(o,h);case 4:e.next=11;break;case 6:return e.t0=console,e.next=9,s(o);case 9:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 11:return e.t2=c,e.next=14,i();case 14:return e.t3=e.sent,(0,e.t2)(e.t3),t.value=n,e.t4=a,e.next=20,i({type:t.value});case 20:e.t5=e.sent,(0,e.t4)(e.t5),h=0,f();case 24:case"end":return e.stop()}}),e)})))()}))}))):(h=document.querySelectorAll(".text-warning"),p=document.getElementById("name"),m=document.querySelector(".button"),v=document.getElementById("password"),h.forEach((function(t){return t.style.display="none"})),m.addEventListener("click",(function(t){t.preventDefault(),"admin"===p.value&&""===v.value?(e(p.value,!0),location="./table.html"):(r("admin"),h.forEach((function(t){return t.style.display="block"}))),p.value="",v.value=""})))}()}();